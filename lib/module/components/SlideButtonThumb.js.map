{"version":3,"sources":["SlideButtonThumb.tsx"],"names":["React","StyleSheet","PanGestureHandler","Animated","cancelAnimation","Easing","runOnJS","useAnimatedStyle","useSharedValue","withRepeat","withTiming","DEFAULT_ICON_CONTAINER_COLOR","SlideButtonThumb","icon","gestureHandler","translateX","height","padding","endReached","borderRadius","thumbStyle","animStarted","animEnded","isRTL","animation","animationDuration","dynamicResetEnabled","dynamicResetDelaying","opacityValue","play","repeatCount","value","duration","easing","inOut","ease","animFinished","stop","thumbAnimStyle","opacity","transform","thumbDynamicStyle","left","width","iconContainerDynamicStyle","scaleX","useEffect","styles","thumbContainer","iconContainer","memo","create","position","alignItems","justifyContent","backgroundColor","elevation"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {StyleProp, StyleSheet, ViewStyle} from 'react-native';\nimport {\n  GestureEvent,\n  PanGestureHandler,\n  PanGestureHandlerEventPayload,\n} from 'react-native-gesture-handler';\nimport Animated, {\n  cancelAnimation,\n  Easing,\n  runOnJS,\n  useAnimatedStyle,\n  useSharedValue,\n  withRepeat,\n  withTiming,\n} from 'react-native-reanimated';\n\nimport {SlideButtonCommonProps} from './SlideButton';\n\nconst DEFAULT_ICON_CONTAINER_COLOR = '#FFFFFF';\n\nexport interface SlideButtonThumbProps extends SlideButtonCommonProps {\n  gestureHandler?:\n    | ((event: GestureEvent<PanGestureHandlerEventPayload>) => void)\n    | undefined;\n  icon?: React.ReactNode;\n  thumbStyle?: StyleProp<ViewStyle>;\n  animStarted?: () => void;\n  animEnded?: () => void;\n  isRTL: boolean;\n}\n\nconst SlideButtonThumb = ({\n  icon,\n  gestureHandler,\n  translateX,\n  height,\n  padding,\n  endReached,\n  borderRadius,\n  thumbStyle,\n  animStarted,\n  animEnded,\n  isRTL,\n  animation,\n  animationDuration,\n  dynamicResetEnabled,\n  dynamicResetDelaying,\n  \n}: SlideButtonThumbProps) => {\n\n  const opacityValue = useSharedValue(1);\n\n  const play = () => {\n    const repeatCount = dynamicResetEnabled ? -1 : 6;\n    opacityValue.value = withRepeat(\n      withTiming(\n        0.4,\n        {duration: animationDuration!, easing: Easing.inOut(Easing.ease)},\n      ),\n      repeatCount,\n      true,\n      () => {\n        runOnJS(animFinished)();\n      },\n    );\n  };\n\n  const stop = () => {\n    cancelAnimation(opacityValue);\n    runOnJS(animFinished)();\n  }\n\n  const animFinished = () => {\n    animEnded && animEnded();\n  };\n\n  const thumbAnimStyle = useAnimatedStyle(() => {\n    return {\n      opacity: endReached ? opacityValue.value : 1,\n      transform: [{translateX: translateX.value}],\n    };\n  });\n\n  //const KEY = isRTL ? 'right' : 'left';\n  const thumbDynamicStyle = {\n    left: padding,\n    width: height,\n    height,\n    borderRadius,\n  };\n\n  const iconContainerDynamicStyle = {\n    width: height,\n    height,\n    borderRadius,\n    transform: [{scaleX: isRTL ? -1 : 1}],\n  };\n\n  React.useEffect(() => {\n    if (endReached) {\n      if (animation) {\n        animStarted && animStarted();\n        play();\n      }  \n    }\n  }, [endReached]);\n\n  React.useEffect(() => {\n    if (dynamicResetEnabled) {\n      if (!dynamicResetDelaying) {\n        stop()\n      }  \n    }\n  }, [dynamicResetDelaying]);\n\n  return (\n    <PanGestureHandler onGestureEvent={gestureHandler}>\n      <Animated.View\n        testID=\"ThumbContainer\"\n        style={[\n          styles.thumbContainer,\n          thumbAnimStyle,\n          thumbDynamicStyle,\n          thumbStyle,\n        ]}>\n        <Animated.View\n          testID=\"IconContainer\"\n          style={[styles.iconContainer, iconContainerDynamicStyle]}>\n          {icon}\n        </Animated.View>\n      </Animated.View>\n    </PanGestureHandler>\n  );\n};\n\nexport default React.memo(SlideButtonThumb);\n\nconst styles = StyleSheet.create({\n  thumbContainer: {\n    position: 'absolute',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: DEFAULT_ICON_CONTAINER_COLOR,\n    // shadowColor: '#000',\n    // shadowOffset: {\n    //   width: 0,\n    //   height: 1,\n    // },\n    // shadowOpacity: 0.22,\n    // shadowRadius: 2.22,\n    elevation: 3,\n  },\n  iconContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n"]}